<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="../styles/Condition.css">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div class="wrapper">

        <p class="texto-acima">
            texto para áudio
            <button type="button" id="botaoAudio" class="botao-icone-style menos-importante">
                <span class="material-icons" style="vertical-align: middle;">
                    volume_up
                </span>
            </button>
        </p>

        <div class="form-container">
            <h1>Condições visuais</h1>

            <p id="condition-question">Qual condições visuais?</p>

            <form id="meuFormulario">
                <div class="radio-group">                  
                    <label class="radio-option">
                        <input type="checkbox" name="condicao_visual[]" value="visao" id="chk-visao">
                        Baixa visão
                        
                        <select name="tipo_visão" id="select-visao" class="hidden-select">
                            <option value="leve">Forma leve</option>
                            <option value="moderada"> Forma moderada</option>
                            <option value="grave">Forma grave</option>
                        </select>
                    </label>

                    <label class="radio-option">
                        <input type="checkbox" name="condicao_visual[]" value="cegueira_total">
                        Cegueira total
                    </label>
                    
                    <label class="radio-option">
                        <input type="checkbox" name="condicao_visual[]" value="daltonismo" id="chk-daltonismo">
                        Daltonismo
                        
                        <select name="tipo_daltonismo" id="select-daltonismo" class="hidden-select">
                            <option value="protanomalia">Protanomalia</option>
                            <option value="protanopia">Protanopia</option>
                            <option value="deutetanomalia">Deuteranomalia</option>
                            <option value="deuteranopia">Deuteranopia</option>
                            <option value="tritanomalia">Tritanomalia</option>
                            <option value="tritanopia">Tritanopia</option>
                        </select>
                    </label>

                    <label class="radio-option">
                        <input type="checkbox" name="condicao_visual[]" value="sensibilidade_luz">
                        Sensibilidade à luz
                    </label>
                </div>

                <script>
                    const params = new URLSearchParams(window.location.search);
                    const condition = params.get('condition') || 'condições visuais';
                    document.title = condition;

                    document
                    .querySelectorAll(".radio-group input[type='checkbox']")
                    .forEach(checkbox => {
                    });
                </script>

                <button type="button" onclick="irParaProximaPagina()">Próximo</button>
            </form>
        </div>
    </div> 

    <script>
        const chkDaltonismo = document.getElementById('chk-daltonismo');
        const chkVisao = document.getElementById('chk-visao')
        
        const selectDaltonismo = document.getElementById('select-daltonismo');
        const selectVisao = document.getElementById('select-visao')

        chkDaltonismo.addEventListener('change', function() {
            if (this.checked) {
                selectDaltonismo.style.display = 'inline-block';
            } else {
                selectDaltonismo.style.display = 'none';
            }
        });

        chkVisao.addEventListener('change', function() {
            if(this.checked) {
                selectVisao.style.display = 'inline-block';
            } else {
                selectVisao.style.display = 'none';
            }
        });

        function irParaProximaPagina() {
            window.location.href = '../Templates/Condition.html?condition=auditivo';
        }

    </script>
</body>
</html>
